{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Desktop/Software/reactapps/netapp-1/src/App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport tiger from \"./img/person.jpg\"; // Importing ml5.js as ml5\n\nimport * as ml5 from \"ml5\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      predictions: [] // Set the empty array predictions state\n\n    };\n\n    this.setPredictions = pred => {\n      // Set the prediction state with the model predictions\n      this.setState({\n        predictions: pred\n      });\n    };\n\n    this.classifyImg = () => {\n      // Initialize the Image Classifier method with MobileNet\n      const classifier = ml5.imageClassifier(\"MobileNet\", modelLoaded); // When the model is loaded\n\n      function modelLoaded() {\n        console.log(\"Model Loaded!\");\n      } // Put the image to classify inside a variable\n\n\n      const image = document.getElementById(\"image\"); // Make a prediction with a selected image\n\n      classifier.predict(image, 5, function (err, results) {\n        // Return the results\n        return results;\n      }).then(results => {\n        // Set the predictions in the state\n        this.setPredictions(results);\n      });\n    };\n  }\n\n  componentDidMount() {\n    // once the component has mount, start the classification\n    this.classifyImg();\n  }\n\n  render() {\n    // First set the predictions to a default value while loading\n    let predictions = React.createElement(\"div\", {\n      className: \"loader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }); // Map over the predictions and return each prediction with probability\n\n    if (this.state.predictions.length > 1) {\n      predictions = this.state.predictions.map((pred, i) => {\n        let className = pred.className,\n            probability = pred.probability; // round the probability with 2 decimal\n\n        probability = probability;\n        return React.createElement(\"div\", {\n          key: i + \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, i + 1, \". Prediction: \", className, \" at \", probability);\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Image classification with ML5.js\"), React.createElement(\"img\", {\n      src: tiger,\n      id: \"image\",\n      width: \"400\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), predictions);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/macbook/Desktop/Software/reactapps/netapp-1/src/App.js"],"names":["React","Component","tiger","ml5","App","state","predictions","setPredictions","pred","setState","classifyImg","classifier","imageClassifier","modelLoaded","console","log","image","document","getElementById","predict","err","results","then","componentDidMount","render","length","map","i","className","probability"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,kBAAlB,C,CACA;;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;;AAEA,MAAMC,GAAN,SAAkBH,SAAlB,CAA4B;AAAA;AAAA;AAAA,SAC1BI,KAD0B,GAClB;AACNC,MAAAA,WAAW,EAAE,EADP,CACU;;AADV,KADkB;;AAAA,SAK1BC,cAL0B,GAKTC,IAAI,IAAI;AACvB;AACA,WAAKC,QAAL,CAAc;AACZH,QAAAA,WAAW,EAAEE;AADD,OAAd;AAGD,KAVyB;;AAAA,SAY1BE,WAZ0B,GAYZ,MAAM;AAClB;AACA,YAAMC,UAAU,GAAGR,GAAG,CAACS,eAAJ,CAAoB,WAApB,EAAiCC,WAAjC,CAAnB,CAFkB,CAGlB;;AACA,eAASA,WAAT,GAAuB;AACrBC,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACD,OANiB,CAOlB;;;AACA,YAAMC,KAAK,GAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAd,CARkB,CASlB;;AACAP,MAAAA,UAAU,CACPQ,OADH,CACWH,KADX,EACkB,CADlB,EACqB,UAASI,GAAT,EAAcC,OAAd,EAAuB;AACxC;AACA,eAAOA,OAAP;AACD,OAJH,EAKGC,IALH,CAKQD,OAAO,IAAI;AACf;AACA,aAAKd,cAAL,CAAoBc,OAApB;AACD,OARH;AASD,KA/ByB;AAAA;;AAiC1BE,EAAAA,iBAAiB,GAAG;AAClB;AACA,SAAKb,WAAL;AACD;;AAEDc,EAAAA,MAAM,GAAG;AACP;AACA,QAAIlB,WAAW,GAAG;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAlB,CAFO,CAGP;;AACA,QAAI,KAAKD,KAAL,CAAWC,WAAX,CAAuBmB,MAAvB,GAAgC,CAApC,EAAuC;AACrCnB,MAAAA,WAAW,GAAG,KAAKD,KAAL,CAAWC,WAAX,CAAuBoB,GAAvB,CAA2B,CAAClB,IAAD,EAAOmB,CAAP,KAAa;AAAA,YAC9CC,SAD8C,GACnBpB,IADmB,CAC9CoB,SAD8C;AAAA,YACnCC,WADmC,GACnBrB,IADmB,CACnCqB,WADmC,EAEpD;;AACAA,QAAAA,WAAW,GAAGA,WAAd;AACA,eACE;AAAK,UAAA,GAAG,EAAEF,CAAC,GAAG,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGA,CAAC,GAAG,CADP,oBACwBC,SADxB,UACuCC,WADvC,CADF;AAKD,OATa,CAAd;AAUD;;AAED,WACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CADF,EAEE;AAAK,MAAA,GAAG,EAAE3B,KAAV;AAAiB,MAAA,EAAE,EAAC,OAApB;AAA4B,MAAA,KAAK,EAAC,KAAlC;AAAwC,MAAA,GAAG,EAAC,EAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGGI,WAHH,CADF;AAOD;;AA9DyB;;AAiE5B,eAAeF,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport tiger from \"./img/person.jpg\";\n// Importing ml5.js as ml5\nimport * as ml5 from \"ml5\";\n\nclass App extends Component {\n  state = {\n    predictions: [] // Set the empty array predictions state\n  };\n\n  setPredictions = pred => {\n    // Set the prediction state with the model predictions\n    this.setState({\n      predictions: pred\n    });\n  };\n\n  classifyImg = () => {\n    // Initialize the Image Classifier method with MobileNet\n    const classifier = ml5.imageClassifier(\"MobileNet\", modelLoaded);\n    // When the model is loaded\n    function modelLoaded() {\n      console.log(\"Model Loaded!\");\n    }\n    // Put the image to classify inside a variable\n    const image = document.getElementById(\"image\");\n    // Make a prediction with a selected image\n    classifier\n      .predict(image, 5, function(err, results) {\n        // Return the results\n        return results;\n      })\n      .then(results => {\n        // Set the predictions in the state\n        this.setPredictions(results);\n      });\n  };\n\n  componentDidMount() {\n    // once the component has mount, start the classification\n    this.classifyImg();\n  }\n\n  render() {\n    // First set the predictions to a default value while loading\n    let predictions = <div className=\"loader\" />;\n    // Map over the predictions and return each prediction with probability\n    if (this.state.predictions.length > 1) {\n      predictions = this.state.predictions.map((pred, i) => {\n        let { className, probability } = pred;\n        // round the probability with 2 decimal\n        probability = probability;\n        return (\n          <div key={i + \"\"}>\n            {i + 1}. Prediction: {className} at {probability}\n          </div>\n        );\n      });\n    }\n\n    return (\n      <div className=\"App\">\n        <h1>Image classification with ML5.js</h1>\n        <img src={tiger} id=\"image\" width=\"400\" alt=\"\" />\n        {predictions}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}